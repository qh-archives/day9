<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search | Phantom Gallery</title>
    <link rel="stylesheet" href="/styles.css" />
    <style>
      .search-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        max-width: 600px;
        padding: 0 2rem;
      }

      .search-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        border: 1px solid rgba(255, 255, 255, 0.15);
        background: rgba(0, 0, 0, 0.5);
        transition: border-color 0.3s ease;
      }

      .search-wrapper:focus-within {
        border-color: rgba(255, 255, 255, 0.3);
      }

      .search-input {
        flex: 1;
        background: transparent;
        border: none;
        outline: none;
        padding: 1.5rem 1rem;
        color: rgba(128, 128, 128, 1);
        font-family: "IBM Plex Mono", monospace;
        font-size: 1rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
      }

      .search-input::placeholder {
        color: rgba(128, 128, 128, 0.5);
      }

      .arrow-button {
        background: transparent;
        border: none;
        padding: 1.5rem 1.5rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.3s ease;
        color: rgba(128, 128, 128, 1);
      }

      .arrow-button:hover {
        opacity: 0.7;
      }

      .arrow-button:active {
        opacity: 0.5;
      }

      .arrow-icon {
        width: 24px;
        height: 24px;
        stroke: currentColor;
        stroke-width: 2;
        fill: none;
        stroke-linecap: round;
        stroke-linejoin: round;
      }

      .vignette-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        background: radial-gradient(
          ellipse at center,
          transparent 50%,
          rgba(0, 0, 0, 0.1) 70%,
          rgba(0, 0, 0, 0.75) 90%,
          rgba(0, 0, 0, 1) 100%
        );
      }

      .transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9999;
        opacity: 0;
        transition: opacity 0.6s ease-out;
      }

      .transition-overlay.active {
        opacity: 1;
      }

      .transition-overlay::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 0;
        height: 0;
        border-radius: 50%;
        background: radial-gradient(
          circle,
          rgba(0, 0, 0, 0) 0%,
          rgba(0, 0, 0, 0.3) 30%,
          rgba(0, 0, 0, 0.7) 60%,
          rgba(0, 0, 0, 1) 100%
        );
        transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1),
          height 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        filter: blur(20px);
      }

      .transition-overlay.active::before {
        width: 200vmax;
        height: 200vmax;
      }

      .search-container {
        transition: opacity 0.4s ease-out, transform 0.4s ease-out;
      }

      .search-container.fade-out {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.95);
      }
    </style>
  </head>
  <body>
    <div class="transition-overlay" id="transitionOverlay"></div>
    <div class="vignette-overlay"></div>
    <div class="search-container">
      <div class="search-wrapper">
        <input
          type="text"
          class="search-input"
          placeholder="search"
          id="searchInput"
          autocomplete="off"
        />
        <button class="arrow-button" id="arrowButton" aria-label="Search">
          <svg
            class="arrow-icon"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <line x1="5" y1="12" x2="19" y2="12" />
            <polyline points="12 5 19 12 12 19" />
          </svg>
        </button>
      </div>
    </div>

    <script>
      const searchInput = document.getElementById("searchInput");
      const arrowButton = document.getElementById("arrowButton");
      const transitionOverlay = document.getElementById("transitionOverlay");
      const searchContainer = document.querySelector(".search-container");

      const navigateToGallery = () => {
        // Start the transition animation
        searchContainer.classList.add("fade-out");
        transitionOverlay.classList.add("active");

        // Navigate after animation starts
        setTimeout(() => {
          window.location.href = "/gallery.html";
        }, 400);
      };

      searchInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          navigateToGallery();
        }
      });

      arrowButton.addEventListener("click", () => {
        navigateToGallery();
      });

      // Focus the input on load
      searchInput.focus();
    </script>
  </body>
</html>

